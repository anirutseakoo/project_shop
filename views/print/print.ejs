<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Relatório</title>

    <link href="https://unpkg.com/tailwindcss/dist/tailwind.min.css" rel="stylesheet">
    <link href="shop/assets/css/theme.css" rel="stylesheet" />
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Prompt:wght@200&display=swap');
        *{
            font-family: 'Prompt', sans-serif !important;
        }
        table {
            width: 100%;
        }

        th {
            text-align: left;
        }
        h1,h2{
            text-align: center;
        }
        #table thead{
            border-top: 1px solid black ;
            border-bottom: 1px solid black ;
        }
        #table tbody{
           
            border-bottom: 1px solid black ;
        }
       
    </style>
</head>
<body class="bg-purple-100">
    
   
    
    <div class="container"  id='printMe'>           
        <h1 class="">Maruai bikini	</h1>
        <h2 class="">ใบเสร็จรับเงิน</h2>
        <table id="table">
            <thead>
                <tr>
                        <th>ลำดับ</th>
                        <th class="text-center"  >สินค้า</th>
                          <th class="">ไซส์</th>
                          <th class="">สี</th>
                          <th class="text-center">ราคาต่อชิ้น</th>
                          <th class="text-center">จำนวน</th>
                          <th>ราคารวม</th>
                </tr>
            </thead>
            <tbody>
                <% var i = 1 %> 
                <% var sum = 0 %> 
                <% product.forEach(function(p){ %>
                    <tr>
                             
                        <td style="height: 30px !important;">
                            <%= i  %> 
                        </td>
                        
                        <td style="
                        max-width: 180px;
                        white-space: nowrap;
                        overflow: hidden;
                        text-overflow: ellipsis
                        "><%= p.product.name %></td>
                        <td><%= p.size.name %></td>
                        <td><%= p.color.name %></td>
                        <td id="price" class="text-center"><%= p.size.plus %>.00 </td>
                        <td class="text-center">
                          <%= p.qty %>
                        </td>
                        <td id="sum" 
                        
                            ><%= p.qty * p.size.plus %>.00</td>
                       
                    </tr>  
                    <% sum = sum + ( p.qty * p.size.plus) %> 
                    <% i++ %>  
                <% }); %>
               
                
            </tbody>
            <tfoot style="border: none !important;">
                <tr>
                    <td colspan="7"  style="height: 50px;"></td>
                </tr>
                <tr >
                    <td colspan="5" ></td>
                    <td style="text-align: right !important;">ยอดรวมสินค้า
                    </td>
                    <td class="text-center"><%= sum %></td>
                </tr>
                <tr>
                    <td colspan="5"></td>
                    <td class="text-right">ค่าจัดส่ง
                        </td>
                    <td class="text-center"><%= check.cost %></td>
                </tr>
                <tr>
                    <td colspan="5"></td>
                    <td class="text-right">ยอดรวมทั้งหมด
                    </td>
                    <td class="text-center"><%= sum + check.cost %></td>
                </tr>   
            </tfoot>
           
        </table>
       
    </div>
    <div class="container">
        <div class="row">
            <div class="col-12" style="text-align: right !important;">
                <button class="btn btn-info mt-5" onclick="printDiv('printMe')">พิมพ์ใบเสร็จ</button>
            </div>
        </div>
    </div>
    <script>
		function printDiv(divName){
			var printContents = document.getElementById(divName).innerHTML;
			var originalContents = document.body.innerHTML;

			document.body.innerHTML = printContents;

			window.print();

			document.body.innerHTML = originalContents;

		}
	</script>
</body>
</html>